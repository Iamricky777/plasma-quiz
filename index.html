<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Plasma Knowledge Tests</title>
  <style>
    :root {
      --plasma-green: #0F2F29;
      --plasma-white: #ffffff;
    }

    body {
      margin: 0;
      font-family: Futura, Arial, sans-serif;
      background: url('back.png') no-repeat center center/cover;
      color: var(--plasma-white);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    #quiz-container {
      background: var(--plasma-white);
      color: #000;
      width: 90%;
      max-width: 450px;
      margin: 20px auto;
      border-radius: 12px;
      box-shadow: 0px 4px 14px rgba(0, 0, 0, 0.3);
      padding: 30px;
      text-align: center;
      min-height: 60vh;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      box-sizing: border-box;
      position: relative;
    }

    #quiz-header {
      margin-bottom: 20px;
    }

    .option {
      border: 1px solid #ddd;
      padding: 12px;
      margin: 8px 0;
      cursor: pointer;
      border-radius: 12px;
      transition: background 0.2s;
      word-wrap: break-word;
    }

    .option:hover {
      background: rgba(15,47,41,0.08);
    }

    .option.selected {
      background: rgba(15,47,41,0.15);
      border: 1px solid var(--plasma-green);
    }

    button {
      margin-top: 15px;
      padding: 14px 40px;
      cursor: pointer;
      background: var(--plasma-green);
      color: var(--plasma-white);
      border: none;
      border-radius: 12px;
      font-size: 18px;
      transition: transform 0.1s;
    }

    button:active {
      transform: scale(0.97);
    }

    #exit-btn {
      margin-top: 10px;
      background: #000;
      float: right;
      font-size: 14px;
      padding: 8px 16px;
    }

    /* Progress bar */
    .progress-container {
      position: relative;
      background: #ddd;
      height: 20px;
      border-radius: 10px;
      margin: 10px 0 20px;
      width: 100%;
    }

    .progress-bar {
      height: 100%;
      background: var(--plasma-green);
      width: 0%;
      border-radius: 10px;
      transition: width 0.3s ease;
      position: relative;
    }

    .progress-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: #000;
      font-size: 14px;
      pointer-events: none;
      font-weight: bold;
    }

    /* Responsive tweaks */
    @media (max-width: 500px) {
      #quiz-container {
        padding: 20px;
      }

      .option {
        font-size: 14px;
        padding: 10px;
      }

      button {
        font-size: 16px;
        padding: 12px 30px;
      }
    }
  </style>
</head>
<body>
  <div id="quiz-container">
    <div id="quiz-header">
      <h2>Plasma Quiz</h2>
      <p>How well do you know plasma?</p>
    </div>

    <div class="progress-container">
      <div class="progress-bar" id="progress-bar"></div>
      <div class="progress-text" id="progress-text">0/0</div>
    </div>

    <div id="question"></div>
    <div id="options"></div>

    <button onclick="nextQuestion()">Next</button>
    <button id="exit-btn" onclick="exitQuiz()">Exit Quiz</button>
  </div>

  <script>
    const questionsPool = [
      {question: "What is Plasma?", options:["Fruit","Blockchain scaling solution","Car","Planet"], answer:"Blockchain scaling solution"},
      {question: "Stablecoin means?", options:["Volatile coin","Stable value coin","Joke token","Stock"], answer:"Stable value coin"},
      {question: "PlasmaFDN is building ____?", options:["Game","Stablecoin Chain","Book","Phone"], answer:"Stablecoin Chain"},
      {question: "How many questions are in the real quiz?", options:["10","20","30","40"], answer:"20"},
      {question: "Where will we host?", options:["AWS","Vercel","Google Drive","Nowhere"], answer:"Vercel"},
      // Add 25 more dummy questions
    ];

    let selectedQuestions = [];
    let currentQuestionIndex = 0;
    let score = 0;
    let selectedOption = null;

    function startQuiz() {
      selectedQuestions = questionsPool.sort(()=>0.5-Math.random()).slice(0,questionsPool.length);
      currentQuestionIndex = 0;
      score = 0;
      showQuestion();
    }

    function showQuestion() {
      selectedOption = null;
      const questionObj = selectedQuestions[currentQuestionIndex];
      document.getElementById("question").innerText = questionObj.question;
      const optionsDiv = document.getElementById("options");
      optionsDiv.innerHTML = "";

      questionObj.options.forEach(option => {
        const div = document.createElement("div");
        div.classList.add("option");
        div.innerText = option;
        div.onclick = () => selectOption(div, option);
        optionsDiv.appendChild(div);
      });

      updateProgress();
    }

    function selectOption(div, option) {
      selectedOption = option;
      document.querySelectorAll(".option").forEach(o=>o.classList.remove("selected"));
      div.classList.add("selected");
    }

    function nextQuestion() {
      if(!selectedOption){ alert("Please select an option first."); return; }
      if(selectedOption === selectedQuestions[currentQuestionIndex].answer){ score++; }
      currentQuestionIndex++;
      if(currentQuestionIndex < selectedQuestions.length){ showQuestion(); }
      else{ finishQuiz(); }
    }

    function updateProgress() {
      const progress = ((currentQuestionIndex)/selectedQuestions.length)*100;
      document.getElementById("progress-bar").style.width = progress + "%";
      document.getElementById("progress-text").innerText = `${currentQuestionIndex}/${selectedQuestions.length}`;
    }

    function finishQuiz() {
      document.getElementById("quiz-container").innerHTML = `
        <h2>You scored ${score} / ${selectedQuestions.length}</h2>
        <p>${Math.round((score/selectedQuestions.length)*100)}%</p>
        <p>Keep learning!</p>
        <button onclick="startQuiz()">Restart Quiz</button>
      `;
    }

    function exitQuiz() {
      document.getElementById("quiz-container").innerHTML = `<h2>Quiz exited.</h2>`;
    }

    startQuiz();
  </script>
</body>
</html>
