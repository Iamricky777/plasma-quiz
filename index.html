<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Plasma Knowledge Tests</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet"/>
<style>
:root { --plasma-green:#0F2F29; --plasma-white:#ffffff;}
body{
  margin:0;font-family:"Futura","Montserrat",sans-serif;
  background:var(--plasma-green);color:var(--plasma-white);
  display:flex;justify-content:center;align-items:center;min-height:100vh;
  overflow:hidden;
  transition: background 1s ease;
}
#landing,#modes,#quiz-container{width:90%;max-width:500px;text-align:center;}
button{
  background:var(--plasma-white);color:var(--plasma-green);border:none;
  font-family:inherit;padding:14px 30px;margin:12px auto;border-radius:10px;cursor:pointer;
  transition: all 0.3s ease;
}
button:hover{transform:scale(1.05);}
#next-btn{
  border: 2px solid var(--plasma-green);
  padding:16px 35px;
  font-size:18px;
}

#quiz-container{
  position: relative;
  z-index: 10;
  background:var(--plasma-white);color:#000;padding:30px;border-radius:15px;
  box-shadow:0 4px 14px rgba(0,0,0,.3);display:none;overflow:hidden;
  transition: opacity 0.6s ease;
  opacity: 0;
}

#quiz-container.show{
  opacity: 1;
}

.option{
  border:1px solid #ddd;padding:12px;margin:8px 0;border-radius:8px;cursor:pointer;
  transition: all 0.3s ease;
}
.option.selected{background:rgba(15,47,41,.35);border-color:var(--plasma-green);}
.option:hover{transform:scale(1.02);}

.progress-container{
  height:28px;background:#ddd;border-radius:6px;margin:18px 0;position:relative;
  display:flex;align-items:center;justify-content:center;
}
.progress-bar{
  height:100%;width:0;background:var(--plasma-green);transition:width .3s;
  border-radius:6px;
  display:flex;align-items:center;justify-content:center;
  color:#fff;font-weight:bold;font-size:14px;
}
.progress-text{
  position:absolute;left:50%;top:3px;transform:translateX(-50%);color:#000;font-size:14px;
}

#score-box{
  position:absolute;
  top:50%;
  left:50%;
  transform: translate(-50%, -50%);
  background: url('1.png') no-repeat center center/cover;
  color:#fff;
  padding:25px 40px;
  border-radius:15px;
  width:400px;
  height:220px;
  text-align:left;
  opacity:0;
  box-shadow:0 6px 20px rgba(0,0,0,.4);
}

#score-box.show{
  opacity:1;
}

#score-box h2, #score-box h3, #score-box p, #score-box button{
  margin: 8px 0;
}

#score-box button{
  display:block;
  margin-top:12px;
  background:#fff;color:#0F2F29;
  padding:10px 25px;
  border:none;
  border-radius:8px;
  cursor:pointer;
}

#score-box button:hover{
  transform: scale(1.05);
}
</style>
</head>
<body>

<div id="landing">
  <h1>How well do you know Plasma?</h1>
  <button onclick="showModes()">Start Quiz</button>
</div>

<div id="modes" style="display:none;">
  <h2>Select Difficulty</h2>
  <button onclick="startQuiz('easy')">Easy</button>
  <button onclick="startQuiz('intermediate')">Intermediate</button>
  <button onclick="startQuiz('hard')">Hard</button>
</div>

<div id="quiz-container">
  <h3 id="question"></h3>
  <div id="options"></div>
  <div class="progress-container">
    <div id="pbar" class="progress-bar"><span id="progressLabel"></span></div>
  </div>
  <p id="timer"></p>
  <button id="next-btn" onclick="nextQuestion()">Next</button>
  <div style="text-align:right;">
    <button onclick="exitQuiz()" style="background:#ff4c4c;color:#fff;margin-top:4px;">Exit Quiz</button>
  </div>
</div>

<div id="score-box"></div>

<script>
const QUESTIONS={
  easy:[
    {q:"What is Plasma?", o:["Fourth state of matter","A type of battery","A planet","A virus"], a:"Fourth state of matter"},
    {q:"Plasma is mostly made of?", o:["Atoms","Ions and electrons","Neutrons","Molecules"], a:"Ions and electrons"},
    {q:"Plasma conducts?", o:["Nothing","Electricity","Water","Air"], a:"Electricity"},
    {q:"Which is a plasma device?", o:["Refrigerator","TV screen","Microwave","Fluorescent lamp"], a:"Fluorescent lamp"},
    {q:"Plasma can be found in?", o:["Sun","Chair","Phone","Rock"], a:"Sun"},
    {q:"Plasma is affected by?", o:["Magnetism","Gravity only","Sound","Taste"], a:"Magnetism"},
    {q:"Neon lights use?", o:["Gas","Plasma","Liquid","Solid"], a:"Plasma"},
    {q:"Plasma temperature?", o:["Cold","Hot","Room Temp","Frozen"], a:"Hot"},
    {q:"Plasma in nature?", o:["Stars","Tables","Rocks","Soil"], a:"Stars"},
    {q:"Plasma glow color?", o:["Blue","Red","Green","Depends on gas"], a:"Depends on gas"}
  ],
  intermediate:[
    {q:"Intermediate Q1?", o:["A","B","C","D"], a:"A"},
    {q:"Intermediate Q2?", o:["A","B","C","D"], a:"B"},
    {q:"Intermediate Q3?", o:["A","B","C","D"], a:"C"},
    {q:"Intermediate Q4?", o:["A","B","C","D"], a:"D"},
    {q:"Intermediate Q5?", o:["A","B","C","D"], a:"A"},
    {q:"Intermediate Q6?", o:["A","B","C","D"], a:"B"},
    {q:"Intermediate Q7?", o:["A","B","C","D"], a:"C"},
    {q:"Intermediate Q8?", o:["A","B","C","D"], a:"D"},
    {q:"Intermediate Q9?", o:["A","B","C","D"], a:"A"},
    {q:"Intermediate Q10?", o:["A","B","C","D"], a:"B"}
  ],
  hard:[
    {q:"Hard Q1?", o:["A","B","C","D"], a:"A"},
    {q:"Hard Q2?", o:["A","B","C","D"], a:"B"},
    {q:"Hard Q3?", o:["A","B","C","D"], a:"C"},
    {q:"Hard Q4?", o:["A","B","C","D"], a:"D"},
    {q:"Hard Q5?", o:["A","B","C","D"], a:"A"},
    {q:"Hard Q6?", o:["A","B","C","D"], a:"B"},
    {q:"Hard Q7?", o:["A","B","C","D"], a:"C"},
    {q:"Hard Q8?", o:["A","B","C","D"], a:"D"},
    {q:"Hard Q9?", o:["A","B","C","D"], a:"A"},
    {q:"Hard Q10?", o:["A","B","C","D"], a:"B"}
  ]
};

let mode,selectedQ,timerLen,idx=0,score=0,selectedOpt=null,timerInt;

function showModes(){document.getElementById("landing").style.display="none";document.getElementById("modes").style.display="block";}
function exitQuiz(){ if(confirm("Are you sure you want to exit the quiz?")){clearInterval(timerInt); location.reload(); } }

function startQuiz(m){
  mode=m; idx=0; score=0;
  document.getElementById("modes").style.display="none";
  const quiz = document.getElementById("quiz-container");
  quiz.style.display="block";
  setTimeout(()=>{quiz.classList.add("show");},50);
  if(m==="easy"){selectedQ=[...QUESTIONS.easy]; timerLen=20;}
  else if(m==="intermediate"){selectedQ=[...QUESTIONS.intermediate]; timerLen=15;}
  else {selectedQ=[...QUESTIONS.hard]; timerLen=10;}
  showQ();
}

function showQ(){
  if(timerInt) clearInterval(timerInt);
  if(idx>=selectedQ.length){finish(); return;}
  const q=selectedQ[idx];
  document.getElementById("question").innerText=q.q;
  const opt=document.getElementById("options");
  opt.innerHTML="";
  q.o.forEach(o=>{
    const d=document.createElement("div"); d.className="option"; d.innerText=o;
    d.onclick=()=>{
      selectedOpt=o;
      document.querySelectorAll(".option").forEach(x=>x.classList.remove("selected"));
      d.classList.add("selected");
    };
    opt.appendChild(d);
  });
  document.getElementById("pbar").style.width=(idx/selectedQ.length)*100+"%";
  document.getElementById("progressLabel").innerText=`${idx+1}/${selectedQ.length}`;
  
  let t=timerLen;
  document.getElementById("timer").innerText="Time: "+t+"s";
  timerInt=setInterval(()=>{
    t--;document.getElementById("timer").innerText="Time: "+t+"s";
    if(t<=0){clearInterval(timerInt);nextQuestion(true);}
  },1000);
}

function nextQuestion(auto){
  if(!auto && !selectedOpt){alert("Please select an option");return;}
  if(selectedOpt===selectedQ[idx].a)score++;
  selectedOpt=null; idx++;
  
  const quiz=document.getElementById("quiz-container");
  quiz.style.opacity=0;
  setTimeout(()=>{
    showQ();
    quiz.style.opacity=1;
  },300);
}

function finish(){
  clearInterval(timerInt);
  const p=Math.round((score/selectedQ.length)*100);
  let msg="";
  if(p<20) msg="I think you should try Billions.";
  else if(p<30) msg="Are you sure you want Trillions?";
  else if(p<40) msg="If this were a pop quiz, you’re getting an F!";
  else if(p<50) msg="Keep Learning, you’re getting there.";
  else if(p<60) msg="The average guy (Trillions is not average btw).";
  else if(p<70) msg="You’re pretrillions material, work harder!";
  else if(p<100) msg="pretrillions confirmed.";
  else msg="Trillions.";

  document.body.style.background = "#0F2F29"; // gently transition back to green

  const box=document.getElementById("score-box");
  box.innerHTML=`<h2>You scored ${score}/${selectedQ.length}</h2>
                 <h3>${p}%</h3>
                 <p><strong>${msg}</strong></p>
                 <button onclick="location.reload()">Restart</button>`;
  
  box.classList.add("show");
}
</script>
</body>
</html>
